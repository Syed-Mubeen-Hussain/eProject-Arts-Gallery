@model ArtGallery.ViewModels.AdminOrderChangeStatusViewModel
@{

    ViewBag.Title = "ChangeStatus";
    Layout = null;
}


<h2 class="text-center">Change Status From Order</h2>
<div class="content-wrapper p-5">
    <div class="row">
        <div class="col-lg-12 grid-margin stretch-card">
            <div class="card">
                <div class="card-body">
                    <div>Order Id : @Model.Order.o_id</div>
                    <div>Customer Name : @Model.Customer.c_userName</div>
                    <form action="@Url.Action("ChangeStatus")" method="post">
                        Status :  @Html.DropDownListFor(x => x.Order.o_status, new SelectList(new[] { "Pending", "Delivered", "Reject","Approved" }),null,new { id = "status" })
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script>
    $("#status").change(function () {
        $.ajax({
                   type:"POST",
            url: '@Url.Action("ChangeStatus", "Admin")',
            data: {
                Id: @Model.Order.o_id,
                Status : $(this).val(),
            }
        })
            .done(function (response) {
                console.log(response);                
                $("#tableContainer").html(response);
                $("#actionContainer").html("");
                swal("Done!", "Order Has Been Updated!", "success");
                foucusAction("tableContainer");
            })
            .fail(function (XMLHttpRequest, textStatus, errorThrown) {
                alert("FAIL");
            });
        });
</script>